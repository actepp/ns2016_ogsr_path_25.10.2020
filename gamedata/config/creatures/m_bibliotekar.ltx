;---''' BIBLIOTEKAR '''---
;--'' работа Scarabay с правками ''--
[m_bibliotekar_e]:monster_base
GroupControlSection     = spawn_group
SpaceRestrictionSection = space_restrictor,zone_mosquito_bald,zone_witches_galantine,zone_burning_fuzz1,zone_mincer,zone_gravi_zone
$npc      = on
$prefetch = 16
cform          = skeleton
class          = SM_IZLOM
script_binding = bind_monster.bind
visual         = monsters\bibliotekar\bibliotekar
corpse_visual  = monsters\izlom\izlom
icon           = ui_npc_monster_bibliotekar

ef_creature_type = 21
ef_weapon_type   = 4
ef_detector_type = 1
panic_threshold  = 0.1

bone_torso   = bip01_spine1
bone_head    = bip01_head
bone_fire    = bip01_head
weapon_usage = 0

distance_to_corpse = 1.2
DynamicObjectsCount = 32
Spawn_Inventory_Item_Section = part_digitis_biblio
Spawn_Inventory_Item_Probability_onDeath = 1

;--' Offline Alife '--
Scheduled = on
Human     = off
Health    = 400

MinSpeed     = 1.0
MaxSpeed     = 5.0
going_speed  = 4.5
search_speed = 2.0
MaxHealthValue = 200

DayTime_Begin = 0
DayTime_End   = 24
terrain       = bibliotekar_terrain
smart_terrain_choose_interval = 00:15:00

;--' Physics '--
ph_box0_center = 0.00, 0.9, 0
ph_box0_size   = 0.35, 0.9, 0.35
ph_box1_center = 0.00, 0.6, 0
ph_box1_size   = 0.40, 0.6, 0.4

ph_crash_speed_min         = 10
ph_crash_speed_max         = 30
ph_collision_damage_factor = 0.1
ph_mass                    = 190

destroyed_vis_name = physics\Dead_Body\trupik_crash

ph_skeleton_airr_lin_factor = -0.4
ph_skeleton_airr_ang_factor = -0.2
ph_skeleton_hinger_factor1  = 5
ph_skeleton_ddelay          = 5

ph_skel_fatal_impulse_factor   = 3
ph_after_death_velocity_factor = 0.75
ph_skel_shot_up_factor         = 0.25

;--' Movement '--
Velocity_Stand          = 0.0, 1.4, 1.4, 1.00, 1
Velocity_WalkFwdNormal  = 0.9, 2.5, 2.5, 0.02, 2
Velocity_WalkFwdDamaged = 1.4, 3.0, 3.0, 0.20, 2
Velocity_RunFwdNormal   = 4.0, 3.5, 3.5, 0.40, 1
Velocity_RunFwdDamaged  = 5.5, 3.0, 3.0, 0.20, 1
Velocity_Drag           = 1.3, 3.0, 3.0, 1.00, 1
Velocity_Steal          = 1.6, 3.0, 3.0, 1.00, 1

Accel_Generic    = 1.5
Accel_Calm       = 3
Accel_Aggressive = 9.5

;--' Attack '--
MinAttackDist = 1.8
MaxAttackDist = 2.4
as_min_dist   = 0.5
as_step       = 0.5

hit_type  = wound
hit_power = 50.0

squad_attack_algorithm = 1
attack_effector        = monster_attack_effector
attack_params          = bibliotekar_attack_params

;--' Conditions '--
satiety_v          = 0.00001
radiation_v        = 0.00001
satiety_power_v    = 0.005 
satiety_health_v   = 0.0001
satiety_critical   = -1
radiation_health_v = 0.01
morale_v           = 0.01
health_hit_part    = 0.4
power_hit_part     = 1
psy_health_v       = 0.1

immunities_sect = bibliotekar_immunities

bleeding_v          = 0
wound_incarnation_v = 0.01
min_wound_size      = 0.01

sleep_health     = 1.0
sleep_power      = 1.0
sleep_satiety    = 1.0
sleep_radiation  = 1.0
sleep_psy_health = 1.0

eat_freq         = 5
eat_slice        = 0.01
eat_slice_weight = 10

Min_Satiety = 0.4
Max_Satiety = 1
satiety_threshold = 0.1

;--' Sounds '--
sound_idle           = monsters\bibliotekar\idle_
sound_eat            = monsters\zombie\zombie_eat_
sound_aggressive     = monsters\bibliotekar\swamp_run_1
sound_attack_hit     = monsters\bibliotekar\attack_hit_
sound_take_damage    = monsters\bibliotekar\hurt_
sound_die            = monsters\bibliotekar\die_
sound_threaten       = monsters\biting\def_
sound_landing        = monsters\biting\def_
sound_steal          = monsters\biting\def_
sound_panic          = monsters\bibliotekar\hurt_
sound_growling       = monsters\biting\def_
sound_die_in_anomaly = monsters\bibliotekar\die_

killer_clsids = Z_MINCER,Z_GALANT,ZS_BFUZZ,ZS_MBALD,ZS_GALAN,ZS_MINCE

idle_sound_delay   = 125000
eat_sound_delay    = 3000
attack_sound_delay = 4000

sound_distant_idle       = monsters\bibliotekar\idle_
distant_idle_sound_delay = 80000
distant_idle_sound_range = 100

SoundThreshold = 0.06
max_hear_dist  = 40
material       = creatures\medium

;--' Vision '--
eye_fov   = 100
eye_range = 100

min_view_distance       = 0.8
max_view_distance       = 1
visibility_threshold    = 100
always_visible_distance = 0.3
time_quant              = 0.001
decrease_value          = 0.01
velocity_factor         = 0.5
luminocity_factor       = 0.5
transparency_threshold  = 0.25

;--' Morale '--
Morale_Hit_Quant             = 0.1
Morale_Attack_Success_Quant  = 0.1
Morale_Take_Heart_Speed      = 0.1
Morale_Despondent_Speed      = 0.1
Morale_Stable_Speed          = 0.01
Morale_Despondent_Threashold = 0.5

;--' Damages '--
damage           = bibliotekar_damage
DamagedThreshold = 0.5

critical_wound_threshold      = -1
critical_wound_decrease_quant = 0

;--' Species '--
species   = fracture
rank      = 601
spec_rank = strong
community = bibliotekar

;--' Other '--
LegsCount   = 2
step_params = bibliotekar_step_params

actor_restrictor = medium_monster
jump_max_height  = 1.0

ImpulseMin = 500
ImpulseMax = 550

;--' Sections '--
[bibliotekar_attack_params]
stand_attack_0 = 0.35, 1.6, 750, 0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5
stand_attack_1 = 0.4,  1.3, 600, 0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5
stand_attack_2 = 0.9,  1.7, 950, 0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5

[bibliotekar_damage]
default      = 0.3, -1, 0.1
bip01_pelvis = 0.1, -1, 0.1
bip01_spine1 = 0.2, -1, 0.1
bip01_neck   = 0.4, -1, 0.1
bip01_head   = 0.6, -1, 0.5

[bibliotekar_immunities]
burn_immunity          = 0.02
strike_immunity        = 0.02
shock_immunity         = 0.1
wound_immunity         = 0.02
radiation_immunity     = 0.00
telepatic_immunity     = 1.0
chemical_burn_immunity  = 0.02
explosion_immunity     = 0.02
fire_wound_immunity    = 0.02

[bibliotekar_step_params]
stand_walk_fwd_0 = 1, 0.01, 1, 0.25, 0.7,
stand_run_fwd_0  = 1, 0.01, 1, 0.25, 0.6,

[bibliotekar_terrain]
255,000,255,255
001,002,000,000 ;Кордон
008,001,000,000 ;Бар
010,001,000,000 ;Янтарь
012,001,000,000 ;Миллитари

;---'' BASE PROFILES ''---
[bibliotekar]:m_bibliotekar_e
$spawn = "monsters\bibliotekars\bibliotekar"
control_fx_texture = act\act_bibliotekar

[bibliotekar_brown]:m_bibliotekar_e
$spawn = "monsters\bibliotekars\bibliotekar_brown"
visual = monsters\bibliotekar\bibliotekar_brown
attack_params = bibliotekar_brown_attack_params
immunities_sect	  = bibliotekar_brown_immunities
rank      = 901
spec_rank = personal


[bibliotekar_brown_attack_params]
stand_attack_0 = 0.35, 1.8, 85, 0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5
stand_attack_1 = 0.4,  1.5, 7,  0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5
stand_attack_2 = 0.9,  1.9, 95, 0, 1, 0, -1.6, 1.6, -1.6, 1.6, 3.5

[bibliotekar_brown_immunities]
burn_immunity          = 0.05
strike_immunity        = 0.05
shock_immunity         = 0.1
wound_immunity         = 0.005
radiation_immunity     = 0.00
telepatic_immunity     = 1.0
chemical_burn_immunity  = 0.05
explosion_immunity     = 0.05
fire_wound_immunity    = 0.005


;---'' FRENDLY ''---
[buddy_bibliotekar]:bibliotekar_brown
$spawn = "monsters\buddyes\buddy_bibliotekar"
species   = buddy
community = buddy
panic_threshold = 0
Spawn_Inventory_Item_Probability_onDeath = 0